import{e}from"./app.4772d866.js";import{_ as p}from"./plugin-vue_export-helper.5a098b48.js";const s={},a=e('<h1 id="资源文件" tabindex="-1"><a class="header-anchor" href="#资源文件" aria-hidden="true">#</a> 资源文件</h1><blockquote><p>翻译自原文档：https://osdn.net/projects/emuera/wiki/resources</p></blockquote><p>本节说明如何准备资源文件，以便在Emuera中显示图像。</p><p>资源文件被放置在可执行文件夹的资源文件夹中。</p><p>这些文件可以在资源文件夹的任何子文件夹中（自1.823起）。</p><h2 id="资源索引文件-csv-。" tabindex="-1"><a class="header-anchor" href="#资源索引文件-csv-。" aria-hidden="true">#</a> 资源索引文件（csv）。</h2><p>如果你把csv格式的文本放在资源文件夹中，它将被当作资源规范文件来阅读。格式如下：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>;注释行\nリソース名A, 元ファイル名, x, y, width, height, posx, posy\nリソース名B, 元ファイル名, x, y, width, height, posx, posy\n\nリソース名C, ANIME, width, height\nリソース名C, 元ファイル名, x, y, width, height, posx, posy, delay\nリソース名C, 元ファイル名, x, y, width, height, posx, posy, delay\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><p>注释行</p><ul><li>以分号开头的行作为注释行会被忽略。</li></ul></li><li><p>图元（sprite）</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>资源名称A, 原始文件名, x, y, width, height, posx, posy\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li></ul><p>使用上述格式可以创建一个<code>资源名称A</code>的精灵。</p><p>资源名称是指作为<code>&lt;img src=&#39;资源名称A&#39;&gt;</code>的src属性值的名称。</p><p>它也可以以<code>SPRITECREATED(&quot;资源名称A&quot;)</code>的形式使用。</p><p>资源名称不得与任何其他资源的名称重复。</p><p>源文件名是指图像文件的名称。 它应该包括文件扩展名，并且是相对于csv文件的。</p><p>不可能指定一个比csv文件在层次上更高的图像文件。</p><p>不可能指定比csv文件更高的图像文件，它必须与csv文件在同一文件夹或其子文件夹中。</p><p>x、y、宽度和高度字段指定了要使用的原始图像的部分，单位为像素。</p><p>x、y、宽度和高度可以省略，在这种情况下，将使用整个图像。</p><p><code>posx</code>和<code>posy</code>指定图像的相对位置。 这些值可以通过<code>SPRITEPOS</code>和<code>SPRITEMOVE</code>指令动态地改变。</p><p><code>posx</code>和<code>posy</code>可以省略，在这种情况下，使用0,0。</p><ul><li><p>动画精灵（Animate Sprite）</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>资源名称C, ANIME, width, height\n资源名称C, 原始文件名, x, y, width, height, offsetx, offsety, delay\n资源名称C, 原始文件名, x, y, width, height, offsetx, offsety, delay\n……\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><p>你可以使用上述格式来创建一个资源名为 &quot;C &quot;的动画精灵。</p><p>要创建一个动画精灵，用<code>ANIME</code>代替文件名创建一行，并指定整个精灵的大小。</p><p>这个宽度和高度必须是正整数。 它们不能被省略。</p><p>下一行，以此类推，指定将作为动画的每一帧的图像。</p><p>每一帧的定义与普通精灵的定义方式相同。</p><p>延迟是指该帧将被显示的时间，以毫秒计。 如果不指定，则为1000ms。</p><p>需要注意的是，Emuera 默认不会在<code>INPUT</code>等的等待时间内重绘，所以动画精灵会在某一帧看起来是静态的。</p><p>你可以通过执行<code>SETANIMETIMER</code>指令告诉 Emuera 在<code>INPUT</code>期间重绘。</p><p>关于<code>SETANIMETIMER</code>指令的更多信息，请参见<a href="">指令说明</a>。</p><h2 id="图像文件" tabindex="-1"><a class="header-anchor" href="#图像文件" aria-hidden="true">#</a> 图像文件</h2><p>为了显示图像，你需要一个图像文件。</p><p>图片文件可以是bmp、jpg或png格式，并放在资源文件夹中。</p><p>在Emuera 1.823中，图像文件不能直接在ERB脚本中指定。</p><p>它们只能通过资源规范文件中指定的资源名称进行访问。</p><h2 id="需要注意的几点" tabindex="-1"><a class="header-anchor" href="#需要注意的几点" aria-hidden="true">#</a> 需要注意的几点</h2><p>所有在csv文件中指定的图像文件在 Emuera 启动时被提取到内存中，并占据内存直到完成。</p><p>与其加载大量的图像文件，不如将图像合并成一个文件并作为一个范围使用。</p><p>如果在配置中指定WINAPI为绘图接口，则图像由GDI处理，不进行alpha混合。</p><p>如果绘图接口是Graphics或TextRenderer，它将由GDI+处理，并进行alpha混合。</p><p>WINAPI（GDI）和Graphics或TextRenderer（GDI+）之间的缩放也略有不同。</p>',41);var n=p(s,[["render",function(e,p){return a}]]);export{n as default};
