import{o as e,c as t,a as d}from"./app.1f302d32.js";const c='{"title":"常量与变量","description":"","frontmatter":{},"headers":[{"level":2,"title":"常量的表示","slug":"常量的表示"},{"level":2,"title":"指定变量大小","slug":"指定变量大小"},{"level":2,"title":"本地变量","slug":"本地变量"},{"level":3,"title":"LOCAL & LOCALS","slug":"local-locals"},{"level":3,"title":"ARG & ARGS","slug":"arg-args"},{"level":3,"title":"(用户定义的私有变量)","slug":"用户定义的私有变量"},{"level":2,"title":"保存数据之间共享的变量","slug":"保存数据之间共享的变量"},{"level":3,"title":"GLOBAL & GLOBALS","slug":"global-globals"},{"level":3,"title":"(用户定义的全局变量)","slug":"用户定义的全局变量"},{"level":2,"title":"角色变量","slug":"角色变量"},{"level":3,"title":"NICKNAME & MASTERNAME","slug":"nickname-mastername"},{"level":3,"title":"CSTR","slug":"cstr"},{"level":3,"title":"CUP & CDOWN & DOWNBASE & TCVAR","slug":"cup-cdown-downbase-tcvar"},{"level":3,"title":"CDFLAG","slug":"cdflag"},{"level":3,"title":"(用户定义的角色变量)","slug":"用户定义的角色变量"},{"level":2,"title":"csv相关","slug":"csv相关"},{"level":3,"title":"csv变量","slug":"csv变量"},{"level":3,"title":"GameBase.csv 変数","slug":"gamebase-csv-変数"},{"level":3,"title":"WINDOW_TITLE","slug":"window-title"},{"level":3,"title":"与csv有关的其他变量","slug":"与csv有关的其他变量"}],"relativePath":"translation/Variable.md","lastUpdated":1631371703828}',a={},l=[d('<h1 id="常量与变量" tabindex="-1">常量与变量 <a class="header-anchor" href="#常量与变量" aria-hidden="true">#</a></h1><blockquote><p>翻译自原文档：<a href="https://osdn.net/projects/emuera/wiki/exvar" target="_blank" rel="noopener noreferrer">https://osdn.net/projects/emuera/wiki/exvar</a></p></blockquote><h2 id="常量的表示" tabindex="-1">常量的表示 <a class="header-anchor" href="#常量的表示" aria-hidden="true">#</a></h2><p>Emuera 使用的常量符号与 Kirikiri 中可以使用的符号相同，但八进制的符号除外。</p><p>例如，以下几行都有相同的含义：</p><div class="language-"><pre><code>X = 32\nX = 0b100000\nX = 0x20\nX = 1p5\n</code></pre></div><p>从上到下的顺序是：普通十进制符号、二进制、十六进制、1 x 2到5次方。</p><p>当你想获得或设置每一个比特时，像1p5这样的符号在与位操作符的结合中很有用。</p><p>例如，如果A的底部第0位或第3位成立，下面的条件语句将为真。</p><div class="language-"><pre><code>IF (A &amp; 1p0)||(A &amp; 1p3)\n</code></pre></div><p>你也可以用e代替p来表示n x 10的m次方。</p><p>例如，13e3等于13000。</p><p>上述符号仅用于常量，不能用于表达式。</p><p>诸如以下的记号将导致一个错误：</p><div class="language-"><pre><code>X = 13e(A + 1)\n</code></pre></div><p>由于与 Eramaker 的兼容性问题，八进制符号没有被采用。</p><p>数字<code>012</code>将被解释为<code>12</code>，而不是<code>10</code>。</p><h2 id="指定变量大小" tabindex="-1">指定变量大小 <a class="header-anchor" href="#指定变量大小" aria-hidden="true">#</a></h2><p>在 Emuera 中，你可以通过在<code>CSV/</code>文件夹中放置一个名为<code>VariableSize.csv</code>的文件来指定一个现有变量的元素数。</p><p>如果你为元素数指定-1，你可以禁止在ERB中使用该变量。</p><p>如果你试图在ERB中赋值或引用一个被禁止的变量，将会发生错误。如果系统需要一个被禁止的变量，赋值过程将被忽略，其值将始终被视为-1。</p><p>(这是当<code>MONEY</code>或<code>NEXTCOM</code>被禁用时出现的情况）。</p><h2 id="本地变量" tabindex="-1">本地变量 <a class="header-anchor" href="#本地变量" aria-hidden="true">#</a></h2><h3 id="local-locals" tabindex="-1">LOCAL &amp; LOCALS <a class="header-anchor" href="#local-locals" aria-hidden="true">#</a></h3><div class="warning custom-block"><p class="custom-block-title">该方法已弃用</p><p>请考虑使用<code>#DIM</code>和<code>#DIMS</code>代替。</p></div><p>欲了解更多信息，请参见<a href="./.html">用户定义的变量</a>。</p><p><code>LOCAL</code>变量是局部变量。</p><p><code>LOCAL</code>是一个整数，<code>LOCALS</code>是一个字符串</p><p><code>LOCAL</code>的基本规模为1000，<code>LOCALS</code>为100。</p><p>你也可以通过<code>#LOCALSIZE &lt;要设置的元素数&gt;</code>和<code>#LOCALSSIZE &lt;要设置的元素数&gt;</code>为每个函数分别设置元素数。</p><p>允许你单独改变每个函数的元素数量。 (然而，你只能将其设置为一个大于0的整数）。</p><p>这是不被保存的。</p><div class="language-"><pre><code>@EVENTFIRST\n  LOCAL:10 = 123\n  CALL FUNC001\n  PRINTV LOCAL:10\n  WAIT\n@FUNC001\n  LOCAL:10 = 567\n  RETURN\n</code></pre></div><p>在上述代码中，<code>PRINTV</code>的结果是<code>123</code>。</p><p><code>FUNC001</code>中的<code>LOCAL:10</code>被改变，但<code>EVENTFIRST</code>中的<code>LOCAL</code>没有被改变。</p><p>与许多语言中的局部变量不同，<code>LOCAL</code>在调用函数时不被初始化。</p><p>在内部，我们创建了一个名为<code>LOCAL@函数名</code>的变量。</p><p>因此，如果有多个同名的函数，例如事件函数，它们是共享的。 另外，如果函数被递归调用，它将使用同一个变量。</p><p>可以调用其他函数的变量，如<code>LOCAL@EVENTFIRST:10 = 567</code>，但不建议这样做（这是一个调试功能）。</p><p>(这只是为了调试的目的。)如果你从另一个函数中调用一个变量，而你所调用的函数的名称包含一个运算符，将导致一个错误。</p><h3 id="arg-args" tabindex="-1">ARG &amp; ARGS <a class="header-anchor" href="#arg-args" aria-hidden="true">#</a></h3><p>本地变量。</p><p><code>ARG</code>是一个整数，<code>ARGS</code>是一个字符串。</p><p><code>ARG</code>的大小基本上是1000，<code>ARGS</code>是100，可以在<code>VariableSize.csv</code>中改变。</p><p>此外，该函数会自动分配足够的元素，以便毫无问题地使用函数参数中定义的数量。 (它永远不会小于<code>VariableSize.csv</code>中指定的数字）。)</p><div class="language-"><pre><code>@FUNC002, ARG:0, ARG:1, ARG,1100\n  LOCAL = ARG:0 * ARG:1 / 100\n  RETURN LOCAL\n</code></pre></div><p>在这种情况下，<code>ARG</code>中的元素数原本是1000，但在<code>@FUNC002</code>中，<code>ARG</code>中的元素数是1101，从0到1100。</p><p>它的目的是用于指定函数中的参数，对于其他用途来说，可读性可能较差。</p><h3 id="用户定义的私有变量" tabindex="-1">(用户定义的私有变量) <a class="header-anchor" href="#用户定义的私有变量" aria-hidden="true">#</a></h3><p>在特定函数中使用<code>#DIM</code>或<code>#DIMS</code>定义的变量是私有变量，可以用与局部变量相同的方式处理。</p><p>更多信息见用户定义的变量。</p><h2 id="保存数据之间共享的变量" tabindex="-1">保存数据之间共享的变量 <a class="header-anchor" href="#保存数据之间共享的变量" aria-hidden="true">#</a></h2><h3 id="global-globals" tabindex="-1">GLOBAL &amp; GLOBALS <a class="header-anchor" href="#global-globals" aria-hidden="true">#</a></h3><p>这些是可以在不同保存数据之间共享的变量。</p><p><code>GLOBAL</code>是一个整数，<code>GLOBALS</code>是一个字符串</p><p><code>GLOBAL</code>的基本尺寸是1000，<code>GLOBALS</code>是100，可以在<code>VariableSize.csv</code>中改变。</p><p>它们不与其他数据一起保存和加载。</p><p>要保存一个全局变量，使用<code>SAVEGLOBAL</code>指令。</p><p>当你做<code>SAVEGLOBAL</code>时，<code>GLOBAL</code>和<code>GLOBALS</code>被保存在<code>Global.sav</code>中。</p><p>如果<code>Global.sav</code>在编写时已经存在，它将被覆盖。</p><p><code>LOADGLOBAL</code>指令允许你从<code>Global.sav</code>加载<code>GLOBAL</code>和<code>GLOBAL</code>。</p><p><code>LOADGLOBAL</code>被推荐与<code>@EVENTFIRST</code>和<code>@EVENTLOAD</code>一起使用。</p><p>可以通过<code>GLOBAL</code>和<code>GLOBAL</code>在不同的保存之间共享数据。</p><h3 id="用户定义的全局变量" tabindex="-1">(用户定义的全局变量) <a class="header-anchor" href="#用户定义的全局变量" aria-hidden="true">#</a></h3><p>在ERH中使用<code>#DIM GLOBAL</code>或<code>#DIMS GLOBAL</code>定义的变量是全局变量。</p><p>另外，通过使用<code>#DIM SAVEDATA GLOBAL</code>，该变量成为一个保存的全局变量。</p><p>详情请参考<a href="./.html">头文件（ERH）</a>。</p><h2 id="角色变量" tabindex="-1">角色变量 <a class="header-anchor" href="#角色变量" aria-hidden="true">#</a></h2><h3 id="nickname-mastername" tabindex="-1">NICKNAME &amp; MASTERNAME <a class="header-anchor" href="#nickname-mastername" aria-hidden="true">#</a></h3><p>这是一个保存的字符串变量，类似于<code>NAME</code>和<code>CALLNAME</code>。</p><p>在<code>CharaXX.csv</code>中，你可以指定为<code>NICKNAME</code>、<code>MASTERNAME</code>、<code>绰号</code>或<code>主人的名字</code>。</p><h3 id="cstr" tabindex="-1">CSTR <a class="header-anchor" href="#cstr" aria-hidden="true">#</a></h3><p>一个要保存的字符串数组变量。</p><p>它是<code>CFLAG</code>的一个字符串版本。</p><p>在<code>CharaXX.csv</code>中，它被指定为<code>CSTR</code>。</p><h3 id="cup-cdown-downbase-tcvar" tabindex="-1">CUP &amp; CDOWN &amp; DOWNBASE &amp; TCVAR <a class="header-anchor" href="#cup-cdown-downbase-tcvar" aria-hidden="true">#</a></h3><p>这些是数字数组变量。</p><p>它们旨在分别作为<code>UP</code>、<code>DOWN</code>、<code>LOSEBASE</code>和<code>TFLAG</code>的字符变量版本使用。</p><p>因此，它们具有与这些变量相同的初始化时间和保存可用性。</p><p>然而，对于<code>CUP</code>和<code>CDOWN</code>，使用<code>CUPCHECK</code>指令而不是<code>UPCHECK</code>指令。</p><h3 id="cdflag" tabindex="-1">CDFLAG <a class="header-anchor" href="#cdflag" aria-hidden="true">#</a></h3><p>数值角色的三维阵列变量。</p><div class="language-"><pre><code>CDFLAG:MASTER:0:2\n</code></pre></div><p>第一个参数是角色的注册号，就像在传统的角色变量中一样，但第二个和第三个参数是必需的。</p><h3 id="用户定义的角色变量" tabindex="-1">(用户定义的角色变量) <a class="header-anchor" href="#用户定义的角色变量" aria-hidden="true">#</a></h3><p>在ERH中使用<code>#DIM CHARADATA</code>或<code>#DIMS CHARADATA</code>定义的变量是字符变量，可以自由处理，就像<code>CFLAG</code>。 详见<a href="./.html">头文件（ERH）</a>。</p><h2 id="csv相关" tabindex="-1">csv相关 <a class="header-anchor" href="#csv相关" aria-hidden="true">#</a></h2><h3 id="csv变量" tabindex="-1">csv变量 <a class="header-anchor" href="#csv变量" aria-hidden="true">#</a></h3><p>这个变量用于参考每个csv中定义的值。</p><p>使用方法类似于例如<code>TALENTNAME</code>和<code>Talent.csv</code>之间的关系。</p><p>所有这些都是一维数组变量，不能被分配，也不能被保存。</p><p>如果它没有在csv中定义，它将返回0或空字符串。</p><table><thead><tr><th style="text-align:center;">变量名</th><th style="text-align:center;">文件</th><th style="text-align:center;">类型</th><th style="text-align:center;">长度</th></tr></thead><tbody><tr><td style="text-align:center;">ITEMPRICE</td><td style="text-align:center;">Item.csv</td><td style="text-align:center;">整数</td><td style="text-align:center;">1000</td></tr><tr><td style="text-align:center;">TRAINNAME</td><td style="text-align:center;">Train.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">1000</td></tr><tr><td style="text-align:center;">BASENAME</td><td style="text-align:center;">Base.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">EQUIPNAME</td><td style="text-align:center;">equip.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">TEQUIPNAME</td><td style="text-align:center;">tequip.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">STAINNAME</td><td style="text-align:center;">stain.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">1000</td></tr><tr><td style="text-align:center;">EXNAME</td><td style="text-align:center;">ex.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">SOURCENAME</td><td style="text-align:center;">source.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">FLAGNAME</td><td style="text-align:center;">flag.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">10000</td></tr><tr><td style="text-align:center;">TFLAGNAME</td><td style="text-align:center;">tflag.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">1000</td></tr><tr><td style="text-align:center;">CFLAGNAME</td><td style="text-align:center;">cflag.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">1000</td></tr><tr><td style="text-align:center;">TCVARNAME</td><td style="text-align:center;">tcvar.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">STRNAME</td><td style="text-align:center;">strname.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">20000</td></tr><tr><td style="text-align:center;">TSTRNAME</td><td style="text-align:center;">tstr.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">CSTRNAME</td><td style="text-align:center;">cstr.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">SAVESTRNAME</td><td style="text-align:center;">savestr.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">CDFLAGNAME1</td><td style="text-align:center;">cdflag1.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">1</td></tr><tr><td style="text-align:center;">CDFLAGNAME2</td><td style="text-align:center;">cdflag2.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">1</td></tr><tr><td style="text-align:center;">GLOBALNAME</td><td style="text-align:center;">global.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">GLOBALSNAME</td><td style="text-align:center;">globals.csv</td><td style="text-align:center;">字符串</td><td style="text-align:center;">100</td></tr></tbody></table><p>请不要混淆<code>str.csv</code>和<code>cstr.csv</code>等的作用。</p><p><code>str.csv</code>是决定分配给变量<code>STR</code>的值的文件，而<code>cstr.csv</code>是决定<code>CSTRNAME</code>的文件。</p><p>决定<code>STRNAME</code>的文件是<code>strname.csv</code>，所以要注意如何使用<code>str.csv</code>和<code>strname.csv</code>。</p><h3 id="gamebase-csv-変数" tabindex="-1">GameBase.csv 変数 <a class="header-anchor" href="#gamebase-csv-変数" aria-hidden="true">#</a></h3><p>参考<code>GameBase.csv</code>中定义的数值的变量。</p><p>所有的变量都是非数组，不可分配和不可保存的。</p><table><thead><tr><th style="text-align:center;">变量名</th><th style="text-align:center;">关键词</th><th style="text-align:center;">类型</th></tr></thead><tbody><tr><td style="text-align:center;">GAMEBASE_AUTHOR</td><td style="text-align:center;">作者</td><td style="text-align:center;">字符串</td></tr><tr><td style="text-align:center;">GAMEBASE_INFO</td><td style="text-align:center;">追加信息</td><td style="text-align:center;">字符串</td></tr><tr><td style="text-align:center;">GAMEBASE_YEAR</td><td style="text-align:center;">制作年份</td><td style="text-align:center;">字符串</td></tr><tr><td style="text-align:center;">GAMEBASE_TITLE</td><td style="text-align:center;">标题</td><td style="text-align:center;">字符串</td></tr><tr><td style="text-align:center;">GAMEBASE_GAMECODE</td><td style="text-align:center;">游戏代码</td><td style="text-align:center;">整数</td></tr><tr><td style="text-align:center;">GAMEBASE_VERSION</td><td style="text-align:center;">版本</td><td style="text-align:center;">整数</td></tr><tr><td style="text-align:center;">GAMEBASE_ALLOWVERSION</td><td style="text-align:center;">兼容版本</td><td style="text-align:center;">整数</td></tr><tr><td style="text-align:center;">GAMEBASE_DEFAULTCHARA</td><td style="text-align:center;">默认人物</td><td style="text-align:center;">整数</td></tr><tr><td style="text-align:center;">GAMEBASE_NOITEM</td><td style="text-align:center;">无物品模式</td><td style="text-align:center;">整数</td></tr></tbody></table><h3 id="window-title" tabindex="-1">WINDOW_TITLE <a class="header-anchor" href="#window-title" aria-hidden="true">#</a></h3><p>这是显示在 Emuera 窗口标题栏的字符串。</p><p>它是一个非数组字符串变量。 初始值是<code>GameBase.csv</code>的<code>窗口标题</code>字段中设置的值。</p><p>如果没有设置<code>窗口标题</code>，它将由<code>标题</code>和<code>版本</code>生成。</p><p>如果<code>标题</code>也没有设置，它将是 Emuera。</p><h3 id="与csv有关的其他变量" tabindex="-1">与csv有关的其他变量 <a class="header-anchor" href="#与csv有关的其他变量" aria-hidden="true">#</a></h3><h4 id="moneylabel" tabindex="-1">MONEYLABEL <a class="header-anchor" href="#moneylabel" aria-hidden="true">#</a></h4>',107)];a.render=function(d,c,a,r,n,s){return e(),t("div",null,l)};export{c as __pageData,a as default};
